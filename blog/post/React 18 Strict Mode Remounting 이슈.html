<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/1060bab20f18b5c2-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/837ab5419e17cee8.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/0e24e4874419c0fb.css" data-precedence="next"/><title>React 18 Strict Mode Remounting 이슈 - Papaya&#x27;s Memory</title><meta name="description" content="React 18 Strict Mode Remounting 이슈"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="google-site-verification" content="MZ5uiRya7PN81lDA3gaTujr4KhMMhI1F-L7xxRUErAo"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body class="__className_656221"><div class="sticky top-0 z-10 font-semibold font-mono bg-black px-8 h-20 flex items-center sm:px-20 lg:px-40"><a href="/blog"><h1 class="w-72 text-3xl bg-gradient-to-r from-pink-500 to-yellow-500 bg-clip-text text-transparent">Papaya&#x27;s Memory</h1></a></div><div class="container m-auto px-8 py-8 lg:max-w-4xl"><h1 class="mb-8 mt-20 text-center text-3xl font-semibold xl:font-bold lg:text-4xl xl:text-5xl">React 18 Strict Mode Remounting 이슈</h1><div class="flex flex-wrap justify-center w-max"><a href="/blog/category/Trouble Shooting"><h1 class="select-none text-xs font-semibold px-2 py-1 m-1 flex items-center bg-gradient-to-r from-purple-700 to-pink-600 text-white rounded-full border-transparent hover:scale-110">#<!-- -->Trouble Shooting</h1></a><a href="/blog/category/Front-end"><h1 class="select-none text-xs font-semibold px-2 py-1 m-1 flex items-center bg-gradient-to-r from-purple-700 to-pink-600 text-white rounded-full border-transparent hover:scale-110">#<!-- -->Front-end</h1></a><a href="/blog/category/Web"><h1 class="select-none text-xs font-semibold px-2 py-1 m-1 flex items-center bg-gradient-to-r from-purple-700 to-pink-600 text-white rounded-full border-transparent hover:scale-110">#<!-- -->Web</h1></a></div><div class="select-none px-8 py-8 text-gray-500"><div class="flex flex-wrap items-center sm:flex-nowrap sm:space-x-6"><div class="relative h-12 w-12 flex-shrink-0 "><img alt="Papaya" loading="lazy" decoding="async" data-nimg="fill" class="rounded-full object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="https://raw.githubusercontent.com/kwt1326/kwt1326.github.io/master/apps/blog-cms/public/uploads/DSC_03085_bb688d7643.jpg"/></div><div class="bg-brand-secondary/20 rounded-full py-2 text-sm text-blue-600 flex flex-col"><h3 class="text-lg font-medium text-gray-300">Papaya</h3><span class="text-sm text-gray-400">2023년 05월 13일</span></div></div></div><main class="mt-8 mb-8"><img alt="thumbnail" loading="lazy" width="1024" height="1024" decoding="async" data-nimg="1" class="m-auto" style="color:transparent" src="/_next/static/media/develop.877b0733.jpeg"/><div class="rmd"><p>React 18 에서는 <code class="rmd-default">&lt;StrictMode&gt;</code> 로 감싸면, Remounting 을 수행합니다. 그렇기 때문에 아무리 <code class="rmd-default">useEffect</code> 등의 hook 으로 마운트할때 수행해도 <strong>2번</strong> 렌더링 될 것입니다.</p>
<p>Fetching 을 수행해야 하는 경우에 모든 환경에서 무조건 한번만 수행하고 싶은 경우, cleanUp 함수를 구현하는 것으로 2번 호출하는 문제를 막을 수 있습니다.</p>
<p>사실, Production 환경에서는 1번만 호출하므로 문제가 없습니다.</p>
<p>그럼에도, 모든 호출을 한번만 수행하기 위해 해결 방안을 하나 제시하면 다음과 같습니다.</p>
<h3>해결 방안</h3>
<p>첫번째 cleanUp 이 발생하면 (Remounting 에서만 발생) abort 를 수행하고 다음에는 허용합니다.</p>
<pre><div style="color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;background:#1e1e1e"><code class="language-typescript" style="color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#dcdcaa">useEffect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#569CD6">const</span><span> controller </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">new</span><span> </span><span class="token" style="color:#4ec9b0">AbortController</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>    </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569CD6">async</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span>
<span>      </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>loading</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#c586c0">return</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>      </span><span class="token" style="color:#dcdcaa">setLoading</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>      </span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> data</span><span class="token" style="color:#d4d4d4">:</span><span> newData </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#c586c0">await</span><span> </span><span class="token" style="color:#dcdcaa">getTodoList</span><span class="token" style="color:#d4d4d4">(</span><span>controller</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">signal</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>      </span><span class="token" style="color:#dcdcaa">setData</span><span class="token" style="color:#d4d4d4">(</span><span>newData </span><span class="token" style="color:#d4d4d4">||</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>      </span><span class="token" style="color:#dcdcaa">setLoading</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span>
</span>
<span>    </span><span class="token" style="color:#6a9955">// cleanup &amp; remounting ignore</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">return</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      controller</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">abort</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></code></div></pre></div></main><div class="select-none mt-3 rounded-2xl px-8 py-8 text-gray-400 duration-200 bg-gray-900 hover:bg-gray-800"><div class="flex flex-wrap items-start sm:flex-nowrap sm:space-x-6 cursor-pointer"><div class="relative mt-1 h-24 w-24 flex-shrink-0"><img alt="Papaya" loading="lazy" decoding="async" data-nimg="fill" class="rounded-full object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="https://raw.githubusercontent.com/kwt1326/kwt1326.github.io/master/apps/blog-cms/public/uploads/DSC_03085_bb688d7643.jpg"/></div><div><div class="bg-brand-secondary/20 rounded-full py-2 text-sm text-blue-600 flex flex-col"><h3 class="text-lg font-medium text-gray-300 underline decoration-purple-500">Papaya</h3></div><span class="text-sm text-gray-400">게임과 애니메이션을 좋아하는 개발자 나부랭이 입니당 Back-end, Full-Stack, 2D/3D Graphic, Game 개발에 관심이 많아요.</span></div></div></div><div class="h-8"></div><section style="width:100%"></section></div><script src="/_next/static/chunks/webpack-1db70467b1ddd5f2.js" async=""></script><script src="/_next/static/chunks/2443530c-9fd15be4ccd05a3f.js" async=""></script><script src="/_next/static/chunks/139-9fa83eec561621fd.js" async=""></script><script src="/_next/static/chunks/main-app-69ecd26e4c99526a.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/1060bab20f18b5c2-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/837ab5419e17cee8.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:HL[\"/_next/static/css/0e24e4874419c0fb.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":\"47858\",\"chunks\":[\"272:static/chunks/webpack-1db70467b1ddd5f2.js\",\"667:static/chunks/2443530c-9fd15be4ccd05a3f.js\",\"139:static/chunks/139-9fa83eec561621fd.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"63055\",\"chunks\":[\"272:static/chunks/webpack-1db70467b1ddd5f2.js\",\"667:static/chunks/2443530c-9fd15be4ccd05a3f.js\",\"139:static/chunks/139-9fa83eec561621fd.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":\"99544\",\"chunks\":[\"272:static/chunks/webpack-1db70467b1ddd5f2.js\",\"667:static/chunks/2443530c-9fd15be4ccd05a3f.js\","])</script><script>self.__next_f.push([1,"\"139:static/chunks/139-9fa83eec561621fd.js\"],\"name\":\"\",\"async\":false}\n9:I{\"id\":\"10099\",\"chunks\":[\"272:static/chunks/webpack-1db70467b1ddd5f2.js\",\"667:static/chunks/2443530c-9fd15be4ccd05a3f.js\",\"139:static/chunks/139-9fa83eec561621fd.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":\"90414\",\"chunks\":[\"414:static/chunks/414-034f8155891c6e4d.js\",\"656:static/chunks/656-6388e14ff53b2c94.js\",\"625:static/chunks/625-373e1a6a2c082171.js\",\"811:static/chunks/app/blog/post/[slug]/page-ffd3106ea12aaf1f.js\"],\"name\":\"\",\"async\":fals"])</script><script>self.__next_f.push([1,"e}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/837ab5419e17cee8.css\",\"precedence\":\"next\"}]],[\"$\",\"$L5\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/post/React%2018%20Strict%20Mode%20Remounting%20%EC%9D%B4%EC%8A%88\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[\"post\",{\"children\":[[\"slug\",\"React%2018%20Strict%20Mode%20Remounting%20%EC%9D%B4%EC%8A%88\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"React 18 Strict Mode Remounting 이슈\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L6\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$7\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_656221\",\"children\":[\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_656221\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[[[\"$\",\"div\",null,{\"className\":\"sticky top-0 z-10 font-semibold font-mono bg-black px-8 h-20 flex items-center sm:px-20 lg:px-40\",\"children\":[\"$\",\"$La\",null,{\"href\":\"/blog\",\"children\":[\"$\",\"h1\",null,{\"className\":\"w-72 text-3xl bg-gradient-to-r from-pink-500 to-yellow-500 bg-clip-text text-transparent\",\"children\":\"Papaya's Memory\"}]}]}],[\"$\",\"div\",null,{\"className\":\"container m-auto px-8 py-8 lg:max-w-4xl\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"post\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"post\",\"children\",[\"slug\",\"React%2018%20Strict%20Mode%20Remounting%20%EC%9D%B4%EC%8A%88\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"React 18 Strict Mode Remounting 이슈\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0e24e4874419c0fb.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"React%2018%20Strict%20Mode%20Remounting%20%EC%9D%B4%EC%8A%88\",\"d\"]},\"styles\":[]}],\"segment\":\"post\"},\"styles\":[]}]}]],null],\"segment\":\"blog\"},\"styles\":[]}]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":\"7589\",\"chunks\":[\"414:static/chunks/414-034f8155891c6e4d.js\",\"656:static/chunks/656-6388e14ff53b2c94.js\",\"625:static/chunks/625-373e1a6a2c082171.js\",\"811:static/chunks/app/blog/post/[slug]/page-ffd3106ea12aaf1f.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":\"38206\",\"chunks\":[\"414:static/chunks/414-034f8155891c6e4d.js\",\"656:static/chunks/656-6388e14ff53b2c94.js\",\"625:static/chunks/625-373e1a6a2c082171.js\",\"811:static/chunks/app/blog/post/[slug]/page-ffd3106ea12aaf1f.js\"],\"name\":\"\",\"async\":false}\ne:I{\"id\":\"7"])</script><script>self.__next_f.push([1,"5060\",\"chunks\":[\"414:static/chunks/414-034f8155891c6e4d.js\",\"656:static/chunks/656-6388e14ff53b2c94.js\",\"625:static/chunks/625-373e1a6a2c082171.js\",\"811:static/chunks/app/blog/post/[slug]/page-ffd3106ea12aaf1f.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":\"19942\",\"chunks\":[\"414:static/chunks/414-034f8155891c6e4d.js\",\"656:static/chunks/656-6388e14ff53b2c94.js\",\"625:static/chunks/625-373e1a6a2c082171.js\",\"811:static/chunks/app/blog/post/[slug]/page-ffd3106ea12aaf1f.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"h1\",null,{\"className\":\"mb-8 mt-20 text-center text-3xl font-semibold xl:font-bold lg:text-4xl xl:text-5xl\",\"children\":\"React 18 Strict Mode Remounting 이슈\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap justify-center w-max\",\"children\":[[\"$\",\"$La\",\"0\",{\"href\":\"/blog/category/Trouble Shooting\",\"children\":[\"$\",\"h1\",null,{\"className\":\"select-none text-xs font-semibold px-2 py-1 m-1 flex items-center bg-gradient-to-r from-purple-700 to-pink-600 text-white rounded-full border-transparent hover:scale-110\",\"children\":[\"#\",\"Trouble Shooting\"]}]}],[\"$\",\"$La\",\"1\",{\"href\":\"/blog/category/Front-end\",\"children\":[\"$\",\"h1\",null,{\"className\":\"select-none text-xs font-semibold px-2 py-1 m-1 flex items-center bg-gradient-to-r from-purple-700 to-pink-600 text-white rounded-full border-transparent hover:scale-110\",\"children\":[\"#\",\"Front-end\"]}]}],[\"$\",\"$La\",\"2\",{\"href\":\"/blog/category/Web\",\"children\":[\"$\",\"h1\",null,{\"className\":\"select-none text-xs font-semibold px-2 py-1 m-1 flex items-center bg-gradient-to-r from-purple-700 to-pink-600 text-white rounded-full border-transparent hover:scale-110\",\"children\":[\"#\",\"Web\"]}]}]]}],[\"$\",\"div\",null,{\"className\":\"select-none px-8 py-8 text-gray-500\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center sm:flex-nowrap sm:space-x-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative h-12 w-12 flex-shrink-0 \",\"children\":[\"$\",\"$Lc\",null,{\"src\":\"/uploads/DSC_03085_bb688d7643.jpg\",\"alt\":\"Papaya\",\"className\":\"rounded-full object-cover\",\"fill\":true,\"sizes\":\"96px\"}]}],[\"$\",\"div\",null,{\"className\":\"bg-brand-secondary/20 rounded-full py-2 text-sm text-blue-600 flex flex-col\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-medium text-gray-300\",\"children\":\"Papaya\"}],[\"$\",\"span\",null,{\"className\":\"text-sm text-gray-400\",\"children\":\"2023년 05월 13일\"}]]}]]}]}],[\"$\",\"$Ld\",null,{\"content\":\"React 18 에서는 `\u003cStrictMode\u003e` 로 감싸면, Remounting 을 수행합니다. 그렇기 때문에 아무리 `useEffect` 등의 hook 으로 마운트할때 수행해도 **2번** 렌더링 될 것입니다.\\n\\nFetching 을 수행해야 하는 경우에 모든 환경에서 무조건 한번만 수행하고 싶은 경우, cleanUp 함수를 구현하는 것으로 2번 호출하는 문제를 막을 수 있습니다.\\n\\n사실, Production 환경에서는 1번만 호출하므로 문제가 없습니다.\\n\\n그럼에도, 모든 호출을 한번만 수행하기 위해 해결 방안을 하나 제시하면 다음과 같습니다.\\n\\n### 해결 방안\\n\\n첫번째 cleanUp 이 발생하면 (Remounting 에서만 발생) abort 를 수행하고 다음에는 허용합니다.\\n\\n```typescript\\nuseEffect(() =\u003e {\\n    const controller = new AbortController();\\n\\n    (async () =\u003e {\\n\\n      if (loading) return;\\n\\n      setLoading(true);\\n\\n      const { data: newData } = await getTodoList(controller.signal);\\n\\n      setData(newData || []);\\n\\n      setLoading(false);\\n    })()\\n\\n    // cleanup \u0026 remounting ignore\\n    return () =\u003e {\\n      controller.abort();\\n    }\\n}, []);\\n```\",\"thumbnail\":\"$undefined\"}],[\"$\",\"$Le\",null,{\"id\":1,\"attributes\":{\"name\":\"Papaya\",\"email\":\"u1326@hotmail.com\",\"job\":\"Front-End Engineer\",\"description\":\"게임과 애니메이션을 좋아하는 개발자 나부랭이 입니당 Back-end, Full-Stack, \\b2D/3D Graphic, Game 개발에 관심이 많아요.\",\"createdAt\":\"2023-05-13T03:44:11.006Z\",\"updatedAt\":\"2023-05-28T04:53:20.378Z\",\"publishedAt\":\"2023-05-13T03:44:14.507Z\",\"thumbnail\":{\"data\":{\"id\":16,\"attributes\":{\"name\":\"DSC03085.jpg\",\"alternativeText\":null,\"caption\":null,\"width\":4000,\"height\":6000,\"formats\":{\"thumbnail\":{\"name\":\"thumbnail_DSC03085.jpg\",\"hash\":\"thumbnail_DSC_03085_bb688d7643\",\"ext\":\".jpg\",\"mime\":\"image/jpeg\",\"path\":null,\"width\":104,\"height\":156,\"size\":6.02,\"url\":\"/uploads/thumbnail_DSC_03085_bb688d7643.jpg\"}},\"hash\":\"DSC_03085_bb688d7643\",\"ext\":\".jpg\",\"mime\":\"image/jpeg\",\"size\":1329.12,\"url\":\"/uploads/DSC_03085_bb688d7643.jpg\",\"previewUrl\":null,\"provider\":\"local\",\"provider_metadata\":null,\"createdAt\":\"2023-05-28T04:52:58.293Z\",\"updatedAt\":\"2023-05-28T04:52:58.293Z\"}}},\"author_detail\":{\"data\":{\"id\":1,\"attributes\":{\"createdAt\":\"2023-05-13T03:49:23.721Z\",\"updatedAt\":\"2023-05-16T00:38:25.536Z\",\"publishedAt\":\"2023-05-13T03:49:24.684Z\",\"locale\":\"en\",\"introduce\":\"### Interests 🥸\\n\\nSoftware Architecture, Dev-ops Engineering, AWS and others cloud, Server Side Framework \u0026 Language, Graphics Engineering, AI\\n\\n### Contacts ✨\\n\\n📧  u1326@hotmail.com\\n\\n💻 [Github](https://github.com/kwt1326)\\n\\n🚩 [Linkedin](https://www.linkedin.com/in/wontae-kim-26a375246/)\"}}}}}],[\"$\",\"$Lf\",null,{}]]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"React 18 Strict Mode Remounting 이슈 - Papaya's Memory\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"React 18 Strict Mode Remounting 이슈\"}],null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[[[\"$\",\"meta\",null,{\"name\":\"google-site-verification\",\"content\":\"MZ5uiRya7PN81lDA3gaTujr4KhMMhI1F-L7xxRUErAo\"}]],null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script>